(function(){var t={5064:function(t){t.exports={lastfm:function(){return"8d73052660775037569a3245833ebc65"},clientID:function(){return"4ea73fc2416a4e8fbf73786f34b2aa2d"},getSecret:function(){return"b5b42f4e81b342d0907595017f2319fb"}}},2986:function(t,n,e){"use strict";var o=e(9242),a=e(3396);function s(t,n,e,o,s,r){const i=(0,a.up)("LoginServices");return(0,a.wg)(),(0,a.j4)(i)}var r=e(7139);const i=(0,a._)("label",{for:"lastfmAccount"},"LastFM Account: ",-1),l=(0,a._)("br",null,null,-1),c=(0,a._)("br",null,null,-1),u=(0,a._)("label",{for:"spotifyPlaylistLink"},"Spotify Playlist Link: ",-1),f=(0,a._)("br",null,null,-1),p=(0,a._)("br",null,null,-1),g=(0,a._)("br",null,null,-1),y=(0,a._)("h1",null,"Songs",-1);function h(t,n,e,o,s,h){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("form",null,[i,l,(0,a._)("input",{type:"text",id:"lastfmAccount",name:"lastfmAccount",onChange:n[0]||(n[0]=t=>h.saveLastFMUsername(t))},null,32),c,u,f,(0,a._)("input",{type:"text",id:"spotifyPlaylistLink",name:"spotifyPlaylistLink",onChange:n[1]||(n[1]=t=>h.saveSpotifyPlaylistLink(t))},null,32),p,(0,a._)("button",{onClick:n[2]||(n[2]=(...t)=>h.track&&h.track(...t))},"Submit"),(0,a.Uk)(),g,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.songDeletions,((t,n)=>((0,a.wg)(),(0,a.iD)("div",{key:n},[y,(0,a._)("p",null,(0,r.zw)(t),1)])))),128))])])}var m=e(3022),d=e.n(m);const k="http://ws.audioscrobbler.com/2.0?",v=e(5064).lastfm(),b=e(5064).clientID(),w=e(5064).getSecret(),S=e(5361).lW;var _={name:"LoginServices",data(){return{songDeletions:[],songAdditions:[],lastfmUsername:"allan-cao91",spotifyPlaylistLink:"https://open.spotify.com/playlist/0Pe4oocsnswRI4v6zPTIwK?si=c806af560256477e"}},methods:{resetDeletions(){this.songDeletions=[]},resetAdditions(){this.songAdditions=[]},resetLastFMUsername(){this.lastfmUsername=""},resetSpotifyPlaylistLink(){this.spotifyPlaylistLink=""},saveLastFMUsername(t){this.lastfmUsername=t.target.value},saveSpotifyPlaylistLink(t){this.spotifyPlaylistLink=t.target.value},async getAllTracks(t){try{let n=1,e=1,o=[];while(n<=e){const a=await d().ajax({url:k,data:{method:"user.getrecenttracks",limit:"200",user:`${t}`,page:`${n}`,api_key:v,format:"json"}});o=o.concat(a.recenttracks.track),e=parseInt(a.recenttracks["@attr"].totalPages),n++,setTimeout((()=>{console.log(n)}),100)}return o}catch(n){console.log(n)}},async getAllSongs(t){return t.map((t=>t.name))},async getTopSongs(t){try{const n=await d().ajax({url:k,data:{method:"user.gettoptracks",user:`${t}`,period:"12month",api_key:v,format:"json"}});console.log(n.toptracks.track)}catch(n){console.log(n)}},async getSongFrequency(t){let n=await this.getAllSongs(await this.getAllTracks(t)),e=[];for(const o of n)e[o]=(e[o]||0)+1;return e},async getAccessToken(){const t=S.from(`${b}:${w}`,"base64").toString("base64"),n=await d().ajax({url:"https://accounts.spotify.com/api/token",data:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${t}`},body:"grant_type=client_credentials"}});return n.access_token},async getSpotifyPlayList(t){try{let n=t,e=n.split("/"),o=e[e.length-1];const a=await d().ajax({url:`https://api.spotify.com/v1/playlists/${o}/tracks`,headers:{Authorization:`Bearer ${await this.getAccessToken()}`}});let s=a.items.map((t=>t.track.name));return s}catch(n){console.log(n)}},async makeSuggestions(t,n){try{let e=await this.getSpotifyPlayList(n),o=await this.getSongFrequency(t);return[e,o]}catch(e){console.log(e)}},async track(){let t=await this.makeSuggestions();setTimeout((()=>{console.log(t)}),1e3),this.songDeletions=t[0],this.songAdditions=t[1]}}},L=e(89);const P=(0,L.Z)(_,[["render",h]]);var A=P,j={name:"App",components:{LoginServices:A}};const x=(0,L.Z)(j,[["render",s]]);var O=x;(0,o.ri)(O).mount("#app")}},n={};function e(o){var a=n[o];if(void 0!==a)return a.exports;var s=n[o]={exports:{}};return t[o].call(s.exports,s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(n,o,a,s){if(!o){var r=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],s=t[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(e.O).every((function(t){return e.O[t](o[l])}))?o.splice(l--,1):(i=!1,s<r&&(r=s));if(i){t.splice(u--,1);var c=a();void 0!==c&&(n=c)}}return n}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[o,a,s]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var a,s,r=o[0],i=o[1],l=o[2],c=0;if(r.some((function(n){return 0!==t[n]}))){for(a in i)e.o(i,a)&&(e.m[a]=i[a]);if(l)var u=l(e)}for(n&&n(o);c<r.length;c++)s=r[c],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(2986)}));o=e.O(o)})();
//# sourceMappingURL=app.24cfbbaa.js.map